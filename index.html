<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <title>Form Order - SuruhBoy</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
  <header class="header">
    <div class="logo">✓</div>
    <div>
      <h1>Form Order</h1>
      <p class="muted">Buat order baru & kirim ke agent</p>
    </div>
  </header>

  <main class="card">

    <!-- FORM POST KE APPS SCRIPT -->
    <form 
      method="POST"
      action="https://script.google.com/macros/s/AKfycbz270lVBBxyx-e2Ccp4RiasvqR-rA1Jd_euUbfkyl9yKPmmiaAbSwRK1DU_1t8jYmuJ/exec"
    >

      <label>Biaya</label>
      <input id="biaya" name="biaya" placeholder="30000" required>

      <label>Kapan</label>
      <input id="kapan" type="date" name="kapan" required>

      <label>Nama</label>
      <input id="nama" name="nama" placeholder="Nama Customer" required>

      <label>No HP</label>
      <input id="hp" name="hp" placeholder="6289..." required>

      <label>Deskripsi</label>
      <textarea id="deskripsi" name="deskripsi" placeholder="Catatan / kebutuhan"></textarea>

      <label>Titik Jemput</label>
      <input id="jemput" name="jemput" placeholder="Alamat jemput">

      <label>Titik Antar</label>
      <input id="antar" name="antar" placeholder="Alamat antar">

      <label>Agent</label>
      <select id="agent" name="agent" required>
        <option value="">-- pilih agent --</option>
        <option value="Panji">Panji</option>
        <option value="Diar">Diar</option>
        <option value="Rifki">Rifki</option>
        <option value="Mukhlis">Mukhlis</option>
        <option value="Angga Jaya">Angga Jaya</option>
        <option value="Aryo">Aryo</option>
        <option value="Mbak Yuni">Mbak Yuni</option>
        <option value="Restu">Restu</option>
        <option value="Agung">Agung</option>
        <option value="Bagus">Bagus</option>
        <option value="Yosi">Yosi</option>
        <option value="Yusuf">Yusuf</option>
      </select>

      <button type="submit" class="primary">SUBMIT ORDER</button>

    </form>

  </main>
</div>


<!-- ========================================= -->
<!-- =========== VALIDASI BIAYA ============== -->
<!-- ========================================= -->
<script>
  const biayaInput = document.getElementById("biaya");

  // Hanya boleh angka + rb + j / juta
  biayaInput.addEventListener("input", function () {
    this.value = this.value
      .toLowerCase()
      .replace(/[^0-9rbjtau\s\-]/g, ""); 
  });

  biayaInput.addEventListener("blur", function () {
    let raw = this.value.toLowerCase().trim();
    let number = raw;

    // 10rb → 10000
    if (/^[0-9]+rb$/.test(raw)) {
      number = parseInt(raw) * 1000;
    }

    // 1jt → 1000000
    if (/^[0-9]+jt$/.test(raw)) {
      number = parseInt(raw) * 1000000;
    }

    // 1juta → 1000000
    if (/^[0-9]+juta$/.test(raw)) {
      number = parseInt(raw) * 1000000;
    }

    this.value = number;
  });
</script>

</body>
</html>
