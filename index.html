<form id="orderForm">

  <label>Biaya</label>
  <input type="text" name="biaya" required>

  <label>Kapan</label>
  <input type="date" name="kapan" required>

  <label>Nama</label>
  <input type="text" name="nama" required>

  <label>HP</label>
  <input type="text" name="hp" required>

  <label>Deskripsi</label>
  <textarea name="deskripsi"></textarea>

  <label>Jemput</label>
  <input type="text" name="jemput">

  <label>Antar</label>
  <input type="text" name="antar">

  <label>Agent</label>
  <input type="text" name="agent">

  <button type="submit">Submit</button>
</form>

<!-- POPUP LOADING -->
<div id="loadingPopup" style="
  display:none; position:fixed; inset:0;
  background:rgba(0,0,0,0.6);
  color:white; font-size:22px;
  display:flex; align-items:center;
  justify-content:center; font-weight:bold;
">
  Sedang mengirim data...
</div>

<!-- POPUP SUCCESS -->
<div id="successPopup" style="
  display:none; position:fixed; inset:0;
  background:rgba(0,0,0,0.6);
  color:white; font-size:22px;
  display:flex; align-items:center;
  justify-content:center; font-weight:bold;
">
  âœ” Data berhasil disimpan!
</div>

<script>
document.getElementById("orderForm").addEventListener("submit", function(e) {
    e.preventDefault();

    // Munculkan popup loading
    document.getElementById("loadingPopup").style.display = "flex";

    const formData = new FormData(this);

    fetch("https://script.google.com/macros/s/AKfycbxE2jugMmls3X7WSU1oA43HU_gxqq2Uq-d3B7NCtis44cvTeiROijP8Y68GfxvtJtjJ/exec", {
        method: "POST",
        body: formData
    })
    .then(res => res.text())
    .then(() => {
        // Matikan loading
        document.getElementById("loadingPopup").style.display = "none";

        // Tampilkan success
        document.getElementById("successPopup").style.display = "flex";

        // Kosongkan form
        document.getElementById("orderForm").reset();

        setTimeout(() => {
            document.getElementById("successPopup").style.display = "none";
        }, 2000);
    })
    .catch(err => {
        document.getElementById("loadingPopup").style.display = "none";
        alert("Gagal mengirim data");
        console.log(err);
    });
});
</script>
